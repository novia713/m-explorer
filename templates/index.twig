<html>

<head>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/foundation-sites@6.5.3/dist/js/foundation.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.min.js"></script>
    <script type="text/javascript" src="m-explorer.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/foundation-sites@6.5.3/dist/css/foundation.min.css">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="m-explorer.css">
</head>
<form name="formu" method="get" id="formu">
    <div id="address_container">
        <span>
            Eth address: <input type="text" name="address" id="address" size="30"
                value="{{address}}" />
        </span>
        <span>
            Collection:
            <select id="select2_domains" name="domain"></select>
        </span>
    </div>
    <div id="buttons">
        <div class="btn_container text_container">
            Text: <input type="text" name="text" id="text" size="30" value="{{text}}"/>
        </div>
        <div class="btn_container">
            Limit <input type="number" value="15" id="limit" name="limit" />
        </div>
        <div class="btn_container gold_container">
            <p>Gold</p>
            <div class="switch">
                <input class="switch-input" id="gold" type="checkbox" name="gold">
                <label class="switch-paddle" for="gold">
                    <span class="show-for-sr">Gold</span>
                    <span class="switch-active" aria-hidden="true">Yes</span>
                    <span class="switch-inactive" aria-hidden="true">No</span>
                </label>
            </div>
        </div>
        <div class="btn_container origin_container">
            <p>Origin</p>
            <div class="switch">
                <input class="switch-input" id="origin" type="checkbox" name="origin">
                <label class="switch-paddle" for="origin">
                    <span class="show-for-sr">Origin</span>
                    <span class="switch-active" aria-hidden="true">Yes</span>
                    <span class="switch-inactive" aria-hidden="true">No</span>
                </label>
            </div>
        </div>
        <div class="btn_container genesis_container">
            <p>Genesis</p>
            <div class="switch">
                <input class="switch-input" id="genesis" type="checkbox" name="genesis">
                <label class="switch-paddle" for="genesis">
                    <span class="show-for-sr">Genesis</span>
                    <span class="switch-active" aria-hidden="true">Yes</span>
                    <span class="switch-inactive" aria-hidden="true">No</span>
                </label>
            </div>
        </div>
        <div class="btn_container ascending_container">
            <p>Ascending</p>
            <div class="switch">
                <input class="switch-input" id="ascending" type="checkbox" name="ascending">
                <label class="switch-paddle" for="ascending">
                    <span class="show-for-sr">Ascending</span>
                    <span class="switch-active" aria-hidden="true">Yes</span>
                    <span class="switch-inactive" aria-hidden="true">No</span>
                </label>
            </div>
        </div>
        <input type="submit" value="Go!" class="button" />
        <button type="button" id="mosaic" class="button success">Mosaic</button>
    </div>
    <div id="sorting_buttonz">
        <button type="button" id="sort_coll_id_asc" class="button tiny secondary">Sort coll id ASC</button>
        <button type="button" id="sort_coll_id_desc" class="button tiny secondary">Sort coll id DESC</button>
        <button type="button" id="sort_level_asc" class="button tiny secondary">Level ASC</button>
        <button type="button" id="sort_level_desc" class="button tiny secondary">Level DESC</button>
    </div>
</form>

<div id="cards-container">
    {% for key, val in data.cards %}
        <div class="card" 
            coll-id="{{val.domain_collection.collection_number}}" 
            level="{{val.level}}" 
            card-id="{{val.nft_id}}">

            <button data-toggle="dropdown-{{ val.nft_id }}" class="or">&or;</button>
            <ul class="dropdown-pane" id="dropdown-{{ val.nft_id }}" data-dropdown>
                <li><a href="#" data-open="modal2x-{{ val.nft_id }}">2x</a></li>
                <li>{{ val.marbled }}</li>
                <li>
                    <div class="row">
                        <div class="small-8 columns">
                            <div class="row">
                                <div class="small-3 columns">
                                    <label for="desired_level" class="right inline">Level to</label>
                                </div>
                                <div class="small-9 columns">
                                    <input type="number" class="desired_level" size="2" id="desired_level_{{ val.nft_id }}"/>
                                    <input type="button" class="calculate button tiny" data-id="{{ val.nft_id }}"  value="Calculate needed XP"/>
                                </div>
                            </div>
                            <div class="actual_level" id="actual_level_{{ val.nft_id }}">
                                {{ val.level }}
                            </div>
                        </div>
                    </div>
                <li>
                <div class="result" id="result_{{ val.nft_id }}"></div>
            </ul>
            <div class="reveal" id="modal2x-{{ val.nft_id }}" data-reveal>
                <img src="{{ val.image_2k }}" border="0"/>
            </div>
            <div class='card-wrapper'>
                <img class='marble-img' src='{{val.image}}' border='0' />
            </div>

            <div class="card-section">
                <p>coll id. <code> {{val.domain_collection.collection_number}} </code></em></p>
                <p>level <code> {{val.level}} </code></em></p>

                
                    {% if val.domain_collection.is_gold_card == true %}
                    {% set badge = "badge" %}
                    {% else %}
                    {% set badge = "primary" %}
                    {% endif %}
                
                <p>
                <a href="https://marble.cards/card/{{ val.nft_id }}">
                <span class="{{ badge }} alert">{{ val.nft_id }}</span></a></p>
                <button class='button tiny'>Add to deck</button>
            </div>
        </div>
    {% endfor %}

</div>
</html>