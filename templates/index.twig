<html>

<head>
    <script type="text/javascript" rel="prefetch" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script rel="prefetch" src="https://cdn.jsdelivr.net/npm/foundation-sites@6.5.3/dist/js/foundation.min.js"></script>
    <script rel="prefetch" src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.min.js"></script>
    <script rel="prefetch" src="https://cdn.jsdelivr.net/gh/ethereum/web3.js@1.0.0-beta.34/dist/web3.min.js"></script>
    <script type="text/javascript" src="m-explorer.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/foundation-sites@6.5.3/dist/css/foundation.min.css">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="m-explorer.css">
</head>


{% include 'form.twig' %}


<div id="cards-container">
    {% for key, val in data.cards %}
        <div class="card"
            coll-id="{{val.domain_collection.collection_number}}"
            level="{{val.level}}"
            card-id="{{val.nft_id}}">

            <button data-toggle="dropdown-{{ val.nft_id }}" class="or">&or;</button>
            <ul class="dropdown-pane" id="dropdown-{{ val.nft_id }}" data-dropdown>
                <li><a href="#" data-open="modal2x-{{ val.nft_id }}">2x</a></li>
                <li>{{ val.marbled }}</li>
                <li>
                    <div class="row">
                        <div class="small-8 columns">
                            <div class="row">
                                <div class="small-3 columns">
                                    <label for="desired_level" class="right inline">Level to</label>
                                </div>
                                <div class="small-9 columns">
                                    <input type="number" class="desired_level" size="2" id="desired_level_{{ val.nft_id }}"/>
                                    <input type="button" class="calculate button tiny" data-id="{{ val.nft_id }}"  value="Calculate needed XP"/>
                                </div>
                            </div>
                            <div class="actual_level" id="actual_level_{{ val.nft_id }}">
                                {{ val.level }}
                            </div>
                        </div>
                    </div>
                <li>
                <div class="result" id="result_{{ val.nft_id }}"></div>
            </ul>
            <div class="reveal" id="modal2x-{{ val.nft_id }}" data-reveal>
                <img src="{{ val.image_2k }}" border="0"/>
            </div>
            <div class='card-wrapper'>
                <img class='marble-img' src='{{val.image}}' border='0' />
            </div>

            <div class="card-section">
                <p>coll id. <code> {{val.domain_collection.collection_number}} </code></em></p>
                <p>level <code> {{val.level}} </code></em></p>


                    {% if val.domain_collection.is_gold_card == true %}
                    {% set badge = "badge" %}
                    {% else %}
                    {% set badge = "primary" %}
                    {% endif %}

                <p>
                <a href="https://marble.cards/card/{{ val.nft_id }}">
                <span class="{{ badge }} alert">{{ val.nft_id }}</span></a></p>
                <button class='button tiny'>Add to deck</button>
            </div>
        </div>
    {% endfor %}

</div>
</html>
